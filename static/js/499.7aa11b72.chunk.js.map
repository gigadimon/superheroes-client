{"version":3,"file":"static/js/499.7aa11b72.chunk.js","mappings":"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","sources":["webpack://superheroes-client/./src/components/Gallery/Gallery.module.css?dbe6","webpack://superheroes-client/./src/components/Gallery/ImageItem/ImageItem.module.css?8b25","components/Gallery/ImageItem/ImageItem.jsx","components/Gallery/Gallery.jsx","middlewares/asyncMiddlewares.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Gallery_list__QACVh\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"ImageItem_item__qIMBR\",\"image\":\"ImageItem_image__n7Ivz\"};","import { Button } from '@mui/material';\nimport { deleteAvatar, BASE_IMG_URL } from 'middlewares/asyncMiddlewares';\nimport { useLocation } from 'react-router-dom';\nimport { Notify } from 'notiflix';\n\nimport s from './ImageItem.module.css';\n\nexport function ImageItem({ image, setImages }) {\n  const { pathname } = useLocation();\n\n  function removeImage(image) {\n    deleteAvatar(`${pathname}/${image}`).then(data => {\n      Notify.success(data.data.message, {\n        timeout: 2000,\n        clickToClose: true,\n      });\n      setImages(prevState => prevState.filter(el => el !== image));\n    });\n  }\n\n  return (\n    <li key={image} className={s.item}>\n      <img\n        className={s.image}\n        height=\"250\"\n        src={image ? `${BASE_IMG_URL}/${image}` : `${BASE_IMG_URL}/default.png`}\n        alt=\"hero avatar\"\n      />\n      <Button\n        variant=\"contained\"\n        className={s.button}\n        onClick={() => removeImage(image)}\n      >\n        Remove\n      </Button>\n    </li>\n  );\n}\n","import s from './Gallery.module.css';\nimport { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { getHeroById } from 'middlewares/asyncMiddlewares';\nimport { ImageItem } from './ImageItem';\n\nexport default function Gallery() {\n  const { heroId } = useParams();\n  const [images, setImages] = useState([]);\n\n  useEffect(() => {\n    getHeroById(heroId).then(hero => {\n      setImages(hero.images);\n    });\n  }, [heroId]);\n\n  return (\n    <ul className={s.list}>\n      {images.map(image => (\n        <ImageItem key={image} image={image} setImages={setImages} />\n      ))}\n    </ul>\n  );\n}\n","import axios from 'axios';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\naxios.defaults.baseURL = 'http://146.59.87.87:8080/api/heroes';\nexport const BASE_IMG_URL = 'http://146.59.87.87:8080/avatars';\nNotify.init({\n  clickToClose: true,\n});\n\nexport async function createHero(body) {\n  try {\n    return await axios({\n      method: 'post',\n      url: '/',\n      data: body,\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n\nexport async function editHero(id, body) {\n  try {\n    return await axios({\n      method: 'patch',\n      url: `/${id}`,\n      data: body,\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n\nexport async function deleteHero(id) {\n  try {\n    return await axios.delete(`/${id}`);\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n\nexport async function getAllHeroes(limit = 5, page = 1) {\n  try {\n    const {\n      data: { data },\n    } = await axios(`?limit=${limit}&page=${page}`);\n    return data;\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n\nexport async function getHeroById(id) {\n  try {\n    const {\n      data: { data: hero },\n    } = await axios(`/${id}`);\n    return hero;\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n\nexport async function deleteAvatar(url) {\n  try {\n    return await axios.patch(`${url}`);\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n"],"names":["ImageItem","image","setImages","pathname","useLocation","className","s","height","src","BASE_IMG_URL","alt","Button","variant","onClick","deleteAvatar","then","data","Notify","message","timeout","clickToClose","prevState","filter","el","removeImage","Gallery","heroId","useParams","useState","images","useEffect","getHeroById","hero","map","axios","createHero","body","method","url","headers","response","error","editHero","id","deleteHero","getAllHeroes","limit","page"],"sourceRoot":""}