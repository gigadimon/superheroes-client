{"version":3,"file":"static/js/9.252762a3.chunk.js","mappings":"kQACA,EAAyB,uBAAzB,EAAuD,qBAAvD,EAAqF,uB,mBCOtE,SAASA,IACtB,IAAQC,GAAcC,EAAAA,EAAAA,YAAWC,EAAAA,GAAzBF,UACAG,GAAWC,EAAAA,EAAAA,MAAXD,OACFE,GAAWC,EAAAA,EAAAA,MAHc,wCAK/B,qGACyBC,EAAAA,EAAAA,IAAWJ,GADpC,OACQK,EADR,OAEEC,EAAAA,OAAAA,QAAeD,EAASE,KAAKC,QAAS,CACpCC,QAAS,IACTC,cAAc,IAEhBR,EAAS,KANX,4CAL+B,sBAc/B,OACE,4BACE,oBAAQS,UAAWC,EAAnB,UACGZ,IACC,iCACE,SAAC,KAAD,CAAMa,IAAK,EAAGF,UAAWC,EAAzB,6BAGA,SAACE,EAAA,EAAD,CAAQC,QAtBa,2CAsBrB,6BAGJ,UAACD,EAAA,EAAD,CAAQC,QAASlB,EAAWc,UAAWC,EAAvC,UACGZ,EAAS,OAAS,WADrB,eAIF,SAAC,KAAD,MAGL,C,6PCtCDgB,EAAAA,GAAAA,SAAAA,QAAyB,sCAClB,IAAMC,EAAe,mCAKrB,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA0BC,GAA1B,mGAEUH,EAAAA,EAAAA,IAAM,CACjBI,OAAQ,OACRC,IAAK,IACLd,KAAMY,EACNG,QAAS,CAAE,eAAgB,yBAN1B,wEASHhB,EAAAA,OAAAA,QAAA,UAAe,KAAMD,gBAArB,iBAAe,EAAgBE,YAA/B,aAAe,EAAsBgB,OATlC,+EAaA,SAAeC,EAAtB,iDAAO,OAAP,oBAAO,WAAwBC,EAAIN,GAA5B,mGAEUH,EAAAA,EAAAA,IAAM,CACjBI,OAAQ,QACRC,IAAI,IAAD,OAAMI,GACTlB,KAAMY,EACNG,QAAS,CAAE,eAAgB,yBAN1B,wEASHhB,EAAAA,OAAAA,QAAA,UAAe,KAAMD,gBAArB,iBAAe,EAAgBE,YAA/B,aAAe,EAAsBgB,OATlC,+EAaA,SAAenB,EAAtB,+CAAO,OAAP,oBAAO,WAA0BqB,GAA1B,kGAEUT,EAAAA,GAAAA,OAAA,WAAiBS,IAF3B,wEAIHnB,EAAAA,OAAAA,QAAA,UAAe,KAAMD,gBAArB,iBAAe,EAAgBE,YAA/B,aAAe,EAAsBgB,OAJlC,+EAQA,SAAeG,IAAtB,4CAAO,OAAP,oBAAO,iHAA4BC,EAA5B,+BAAoC,EAAGC,EAAvC,+BAA8C,EAA9C,mBAIOZ,EAAAA,EAAAA,IAAM,UAAD,OAAWW,EAAX,iBAAyBC,IAJrC,uBAGOrB,EAHP,EAGDA,KAAQA,KAHP,kBAKIA,GALJ,kCAOHD,EAAAA,OAAAA,QAAA,UAAe,KAAMD,gBAArB,iBAAe,EAAgBE,YAA/B,aAAe,EAAsBgB,OAPlC,kFAWA,SAAeM,EAAtB,+CAAO,OAAP,oBAAO,WAA2BJ,GAA3B,uGAIOT,EAAAA,EAAAA,IAAM,IAAD,OAAKS,IAJjB,uBAGaK,EAHb,EAGDvB,KAAQA,KAHP,kBAKIuB,GALJ,gCAOHxB,EAAAA,OAAAA,QAAA,UAAe,KAAMD,gBAArB,iBAAe,EAAgBE,YAA/B,aAAe,EAAsBgB,OAPlC,gFAWA,SAAeQ,EAAtB,+CAAO,OAAP,oBAAO,WAA4BV,GAA5B,kGAEUL,EAAAA,GAAAA,MAAA,UAAeK,IAFzB,wEAIHf,EAAAA,OAAAA,QAAA,UAAe,KAAMD,gBAArB,iBAAe,EAAgBE,YAA/B,aAAe,EAAsBgB,OAJlC,+EA5DPjB,EAAAA,OAAAA,KAAY,CACVI,cAAc,G","sources":["webpack://superheroes-client/./src/components/Header/Header.module.css?4e72","components/Header/Header.jsx","middlewares/asyncMiddlewares.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Header_header__HXQOm\",\"link\":\"Header_link__xIhZh\",\"button\":\"Header_button__eZN2O\"};","import { useParams, Outlet, Link, useNavigate } from 'react-router-dom';\nimport { useContext } from 'react';\nimport { ModalContext } from 'components/AppProvider';\nimport { deleteHero } from 'middlewares/asyncMiddlewares';\nimport { Button } from '@mui/material';\nimport s from './Header.module.css';\nimport { Notify } from 'notiflix';\n\nexport default function Header() {\n  const { openModal } = useContext(ModalContext);\n  const { heroId } = useParams();\n  const navigate = useNavigate();\n\n  async function removeHero() {\n    const response = await deleteHero(heroId);\n    Notify.success(response.data.message, {\n      timeout: 2000,\n      clickToClose: true,\n    });\n    navigate('/');\n  }\n\n  return (\n    <div>\n      <header className={s.header}>\n        {heroId && (\n          <>\n            <Link to={-1} className={s.link}>\n              ‚Üê Go back\n            </Link>\n            <Button onClick={removeHero}>remove hero</Button>\n          </>\n        )}\n        <Button onClick={openModal} className={s.button}>\n          {heroId ? 'Edit' : '+ Create'} hero\n        </Button>\n      </header>\n      <Outlet />\n    </div>\n  );\n}\n","import axios from 'axios';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\naxios.defaults.baseURL = 'http://146.59.87.87:8080/api/heroes';\nexport const BASE_IMG_URL = 'http://146.59.87.87:8080/avatars';\nNotify.init({\n  clickToClose: true,\n});\n\nexport async function createHero(body) {\n  try {\n    return await axios({\n      method: 'post',\n      url: '/',\n      data: body,\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n\nexport async function editHero(id, body) {\n  try {\n    return await axios({\n      method: 'patch',\n      url: `/${id}`,\n      data: body,\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n\nexport async function deleteHero(id) {\n  try {\n    return await axios.delete(`/${id}`);\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n\nexport async function getAllHeroes(limit = 5, page = 1) {\n  try {\n    const {\n      data: { data },\n    } = await axios(`?limit=${limit}&page=${page}`);\n    return data;\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n\nexport async function getHeroById(id) {\n  try {\n    const {\n      data: { data: hero },\n    } = await axios(`/${id}`);\n    return hero;\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n\nexport async function deleteAvatar(url) {\n  try {\n    return await axios.patch(`${url}`);\n  } catch (error) {\n    Notify.failure(error.response?.data?.error);\n  }\n}\n"],"names":["Header","openModal","useContext","ModalContext","heroId","useParams","navigate","useNavigate","deleteHero","response","Notify","data","message","timeout","clickToClose","className","s","to","Button","onClick","axios","BASE_IMG_URL","createHero","body","method","url","headers","error","editHero","id","getAllHeroes","limit","page","getHeroById","hero","deleteAvatar"],"sourceRoot":""}